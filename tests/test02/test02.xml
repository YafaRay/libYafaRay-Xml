<?xml version="1.0"?>
<!--
# YafaRay v4 Test02
# Tests for instances.
To test, using the terminal (or Windows "cmd") do this:
* Using "cd", enter the directory "test01" where this test01.xml file resides
* Execute the "yafaray-xml" indicating the full path to it, and some parameters as, for example:
<path-to-yafaray-xml>/yafaray-xml -vl verbose -lvl verbose test01.xml
-->
<yafaray_container format_version="4.0.0">
	<scene>
		<parameters name="scene">
		</parameters>
		<accelerator>
			<type sval="yafaray-kdtree-original"/>
		</accelerator>
		<image name="Texture.005_image">
			<filename sval="tex.tif"/> <!-- File path when loading the image from a file. Leave blank when creating a new image from RAM -->
			<height ival="300"/> <!-- Image height (overriden by the loaded image type if 'filename' is used) -->
			<type sval="ColorAlpha"/> <!-- Image type (overriden by the loaded image type if 'filename' is used) -->
			<width ival="300"/> <!-- Image width (overriden by the loaded image type if 'filename' is used) -->
		</image>
		<image name="Texture.004_image">
			<filename sval="tex.tga"/> <!-- File path when loading the image from a file. Leave blank when creating a new image from RAM -->
			<height ival="300"/> <!-- Image height (overriden by the loaded image type if 'filename' is used) -->
			<type sval="ColorAlpha"/> <!-- Image type (overriden by the loaded image type if 'filename' is used) -->
			<width ival="300"/> <!-- Image width (overriden by the loaded image type if 'filename' is used) -->
		</image>
		<image name="Texture.003_image">
			<filename sval="tex.png"/> <!-- File path when loading the image from a file. Leave blank when creating a new image from RAM -->
			<height ival="300"/> <!-- Image height (overriden by the loaded image type if 'filename' is used) -->
			<type sval="ColorAlpha"/> <!-- Image type (overriden by the loaded image type if 'filename' is used) -->
			<width ival="300"/> <!-- Image width (overriden by the loaded image type if 'filename' is used) -->
		</image>
		<image name="Texture.002_image">
			<filename sval="tex.jpg"/> <!-- File path when loading the image from a file. Leave blank when creating a new image from RAM -->
			<height ival="300"/> <!-- Image height (overriden by the loaded image type if 'filename' is used) -->
			<type sval="Color"/> <!-- Image type (overriden by the loaded image type if 'filename' is used) -->
			<width ival="300"/> <!-- Image width (overriden by the loaded image type if 'filename' is used) -->
		</image>
		<image name="Texture.001_image">
			<filename sval="tex.hdr"/> <!-- File path when loading the image from a file. Leave blank when creating a new image from RAM -->
			<height ival="300"/> <!-- Image height (overriden by the loaded image type if 'filename' is used) -->
			<image_optimization sval="none"/>
			<type sval="ColorAlpha"/> <!-- Image type (overriden by the loaded image type if 'filename' is used) -->
			<width ival="300"/> <!-- Image width (overriden by the loaded image type if 'filename' is used) -->
		</image>
		<image name="Texture_image">
			<filename sval="tex.exr"/> <!-- File path when loading the image from a file. Leave blank when creating a new image from RAM -->
			<height ival="300"/> <!-- Image height (overriden by the loaded image type if 'filename' is used) -->
			<image_optimization sval="none"/>
			<type sval="ColorAlpha"/> <!-- Image type (overriden by the loaded image type if 'filename' is used) -->
			<width ival="300"/> <!-- Image width (overriden by the loaded image type if 'filename' is used) -->
		</image>
		<texture name="Texture.005">
			<image_name sval="Texture.005_image"/>
			<type sval="image"/>
		</texture>
		<texture name="Texture.004">
			<image_name sval="Texture.004_image"/>
			<type sval="image"/>
		</texture>
		<texture name="Texture.003">
			<image_name sval="Texture.003_image"/>
			<type sval="image"/>
		</texture>
		<texture name="Texture.002">
			<image_name sval="Texture.002_image"/>
			<type sval="image"/>
		</texture>
		<texture name="Texture.001">
			<image_name sval="Texture.001_image"/>
			<type sval="image"/>
		</texture>
		<texture name="Texture">
			<image_name sval="Texture_image"/>
			<type sval="image"/>
		</texture>
		<material name="YafaRay_Default_Material">
			<type sval="shinydiffusemat"/>
		</material>
		<material name="defaultMat">
			<color r="0.8" g="0.8" b="0.8" a="1"/> <!-- BSDF Diffuse component color -->
			<type sval="shinydiffusemat"/>
		</material>
		<material name="Material.008">
			<shader_node>
				<input sval="map0"/>
				<name sval="diff_layer0"/> <!-- Name of the shader node -->
				<type sval="layer"/>
				<upper_color r="0.8" g="0.8" b="0.8" a="1"/>
			</shader_node>
			<shader_node>
				<mapping sval="cube"/>
				<name sval="map0"/> <!-- Name of the shader node -->
				<texco sval="orco"/>
				<texture sval="Texture.005"/>
				<type sval="texture_mapper"/>
			</shader_node>
			<color r="0.8" g="0.8" b="0.8" a="1"/> <!-- BSDF Diffuse component color -->
			<diffuse_reflect fval="0.5"/> <!-- BSDF Diffuse component strength when not textured -->
			<diffuse_shader sval="diff_layer0"/>
			<mat_pass_index ival="2"/> <!-- Material index used in the material index render layer -->
			<type sval="shinydiffusemat"/>
		</material>
		<material name="Material.007">
			<shader_node>
				<input sval="map0"/>
				<name sval="diff_layer0"/> <!-- Name of the shader node -->
				<type sval="layer"/>
				<upper_color r="0.8" g="0.8" b="0.8" a="1"/>
			</shader_node>
			<shader_node>
				<mapping sval="cube"/>
				<name sval="map0"/> <!-- Name of the shader node -->
				<texco sval="orco"/>
				<texture sval="Texture.004"/>
				<type sval="texture_mapper"/>
			</shader_node>
			<color r="0.8" g="0.8" b="0.8" a="1"/> <!-- BSDF Diffuse component color -->
			<diffuse_shader sval="diff_layer0"/>
			<mat_pass_index ival="2"/> <!-- Material index used in the material index render layer -->
			<type sval="shinydiffusemat"/>
		</material>
		<material name="Material.006">
			<shader_node>
				<input sval="map0"/>
				<name sval="diff_layer0"/> <!-- Name of the shader node -->
				<type sval="layer"/>
				<upper_color r="0.8" g="0.8" b="0.8" a="1"/>
			</shader_node>
			<shader_node>
				<mapping sval="cube"/>
				<name sval="map0"/> <!-- Name of the shader node -->
				<texco sval="orco"/>
				<texture sval="Texture.003"/>
				<type sval="texture_mapper"/>
			</shader_node>
			<color r="0.8" g="0.8" b="0.8" a="1"/> <!-- BSDF Diffuse component color -->
			<diffuse_reflect fval="0.6"/> <!-- BSDF Diffuse component strength when not textured -->
			<diffuse_shader sval="diff_layer0"/>
			<mat_pass_index ival="1"/> <!-- Material index used in the material index render layer -->
			<type sval="shinydiffusemat"/>
		</material>
		<material name="Material.005">
			<shader_node>
				<input sval="map0"/>
				<name sval="diff_layer0"/> <!-- Name of the shader node -->
				<type sval="layer"/>
				<upper_color r="0.8" g="0.8" b="0.8" a="1"/>
			</shader_node>
			<shader_node>
				<mapping sval="cube"/>
				<name sval="map0"/> <!-- Name of the shader node -->
				<texco sval="orco"/>
				<texture sval="Texture.002"/>
				<type sval="texture_mapper"/>
			</shader_node>
			<color r="0.8" g="0.8" b="0.8" a="1"/> <!-- BSDF Diffuse component color -->
			<diffuse_reflect fval="0.4"/> <!-- BSDF Diffuse component strength when not textured -->
			<diffuse_shader sval="diff_layer0"/>
			<type sval="shinydiffusemat"/>
		</material>
		<material name="Material.004">
			<shader_node>
				<colfac fval="0.95"/>
				<input sval="map0"/>
				<name sval="diff_layer0"/> <!-- Name of the shader node -->
				<type sval="layer"/>
				<upper_color r="0.8" g="0.8" b="0.8" a="1"/>
			</shader_node>
			<shader_node>
				<mapping sval="cube"/>
				<name sval="map0"/> <!-- Name of the shader node -->
				<texco sval="orco"/>
				<texture sval="Texture.001"/>
				<type sval="texture_mapper"/>
			</shader_node>
			<color r="0.8" g="0.8" b="0.8" a="1"/> <!-- BSDF Diffuse component color -->
			<diffuse_shader sval="diff_layer0"/>
			<type sval="shinydiffusemat"/>
		</material>
		<material name="Material.003">
			<shader_node>
				<colfac fval="0.95"/>
				<input sval="map0"/>
				<name sval="diff_layer0"/> <!-- Name of the shader node -->
				<type sval="layer"/>
				<upper_color r="0.8" g="0.8" b="0.8" a="1"/>
			</shader_node>
			<shader_node>
				<mapping sval="cube"/>
				<name sval="map0"/> <!-- Name of the shader node -->
				<texco sval="orco"/>
				<texture sval="Texture"/>
				<type sval="texture_mapper"/>
			</shader_node>
			<color r="0.8" g="0.8" b="0.8" a="1"/> <!-- BSDF Diffuse component color -->
			<diffuse_shader sval="diff_layer0"/>
			<type sval="shinydiffusemat"/>
		</material>
		<material name="Material.002">
			<color r="0.8" g="0.8" b="0.8" a="1"/> <!-- BSDF Diffuse component color -->
			<type sval="shinydiffusemat"/>
		</material>
		<background>
			<color r="0.7" g="0.7" b="0.7" a="1"/>
			<power fval="0.5"/>
			<type sval="constant"/>
		</background>
		<light name="Point">
			<from x="5.27648" y="-4.88993" z="8.89514"/>
			<power fval="72"/>
			<type sval="pointlight"/>
		</light>
		<object>
			<parameters name="Cube.005">
				<has_orco bval="1"/>
				<light_name sval=""/>
				<num_faces ival="6"/>
				<num_vertices ival="8"/>
				<object_index ival="5"/> <!-- Object Index for the object-index render pass -->
				<type sval="mesh"/>
			</parameters>
			<p x="-4.40469" y="1.44162" z="1.00136e-05" ox="-1" oy="-1" oz="-1"/>
			<p x="-4.40469" y="1.44162" z="2.00001" ox="-1" oy="-1" oz="1"/>
			<p x="-4.40469" y="3.44162" z="1.00136e-05" ox="-1" oy="1" oz="-1"/>
			<p x="-4.40469" y="3.44162" z="2.00001" ox="-1" oy="1" oz="1"/>
			<p x="-2.40468" y="1.44162" z="1.00136e-05" ox="1" oy="-1" oz="-1"/>
			<p x="-2.40468" y="1.44162" z="2.00001" ox="1" oy="-1" oz="1"/>
			<p x="-2.40468" y="3.44162" z="1.00136e-05" ox="1" oy="1" oz="-1"/>
			<p x="-2.40468" y="3.44162" z="2.00001" ox="1" oy="1" oz="1"/>
			<material_ref sval="Material.008"/>
			<f a="2" b="0" c="1" d="3"/>
			<f a="3" b="7" c="6" d="2"/>
			<f a="7" b="5" c="4" d="6"/>
			<f a="0" b="4" c="5" d="1"/>
			<f a="0" b="2" c="6" d="4"/>
			<f a="5" b="7" c="3" d="1"/>
		</object>
		<object>
			<parameters name="Cube.004">
				<has_orco bval="1"/>
				<light_name sval=""/>
				<num_faces ival="6"/>
				<num_vertices ival="8"/>
				<object_index ival="4"/> <!-- Object Index for the object-index render pass -->
				<type sval="mesh"/>
			</parameters>
			<p x="3.26859" y="-0.393062" z="1.00136e-05" ox="-1" oy="-1" oz="-1"/>
			<p x="3.26859" y="-0.393062" z="2.00001" ox="-1" oy="-1" oz="1"/>
			<p x="3.26859" y="1.60694" z="1.00136e-05" ox="-1" oy="1" oz="-1"/>
			<p x="3.26859" y="1.60694" z="2.00001" ox="-1" oy="1" oz="1"/>
			<p x="5.26859" y="-0.393062" z="1.00136e-05" ox="1" oy="-1" oz="-1"/>
			<p x="5.26859" y="-0.393062" z="2.00001" ox="1" oy="-1" oz="1"/>
			<p x="5.26859" y="1.60694" z="1.00136e-05" ox="1" oy="1" oz="-1"/>
			<p x="5.26859" y="1.60694" z="2.00001" ox="1" oy="1" oz="1"/>
			<material_ref sval="Material.007"/>
			<f a="2" b="0" c="1" d="3"/>
			<f a="3" b="7" c="6" d="2"/>
			<f a="7" b="5" c="4" d="6"/>
			<f a="0" b="4" c="5" d="1"/>
			<f a="0" b="2" c="6" d="4"/>
			<f a="5" b="7" c="3" d="1"/>
		</object>
		<object>
			<parameters name="Cube.003">
				<has_orco bval="1"/>
				<light_name sval=""/>
				<num_faces ival="6"/>
				<num_vertices ival="8"/>
				<object_index ival="3"/> <!-- Object Index for the object-index render pass -->
				<type sval="mesh"/>
			</parameters>
			<p x="-0.635578" y="3.54144" z="1.00136e-05" ox="-1" oy="-1" oz="-1"/>
			<p x="-0.635578" y="3.54144" z="2.00001" ox="-1" oy="-1" oz="1"/>
			<p x="-0.635578" y="5.54144" z="1.00136e-05" ox="-1" oy="1" oz="-1"/>
			<p x="-0.635578" y="5.54144" z="2.00001" ox="-1" oy="1" oz="1"/>
			<p x="1.36442" y="3.54144" z="1.00136e-05" ox="1" oy="-1" oz="-1"/>
			<p x="1.36442" y="3.54144" z="2.00001" ox="1" oy="-1" oz="1"/>
			<p x="1.36442" y="5.54144" z="1.00136e-05" ox="1" oy="1" oz="-1"/>
			<p x="1.36442" y="5.54144" z="2.00001" ox="1" oy="1" oz="1"/>
			<material_ref sval="Material.006"/>
			<f a="2" b="0" c="1" d="3"/>
			<f a="3" b="7" c="6" d="2"/>
			<f a="7" b="5" c="4" d="6"/>
			<f a="0" b="4" c="5" d="1"/>
			<f a="0" b="2" c="6" d="4"/>
			<f a="5" b="7" c="3" d="1"/>
		</object>
		<object>
			<parameters name="Cube.002">
				<has_orco bval="1"/>
				<light_name sval=""/>
				<num_faces ival="6"/>
				<num_vertices ival="8"/>
				<object_index ival="2"/> <!-- Object Index for the object-index render pass -->
				<type sval="mesh"/>
			</parameters>
			<p x="-0.635578" y="-0.393062" z="1.00136e-05" ox="-1" oy="-1" oz="-1"/>
			<p x="-0.635578" y="-0.393062" z="2.00001" ox="-1" oy="-1" oz="1"/>
			<p x="-0.635578" y="1.60694" z="1.00136e-05" ox="-1" oy="1" oz="-1"/>
			<p x="-0.635578" y="1.60694" z="2.00001" ox="-1" oy="1" oz="1"/>
			<p x="1.36442" y="-0.393062" z="1.00136e-05" ox="1" oy="-1" oz="-1"/>
			<p x="1.36442" y="-0.393062" z="2.00001" ox="1" oy="-1" oz="1"/>
			<p x="1.36442" y="1.60694" z="1.00136e-05" ox="1" oy="1" oz="-1"/>
			<p x="1.36442" y="1.60694" z="2.00001" ox="1" oy="1" oz="1"/>
			<material_ref sval="Material.005"/>
			<f a="2" b="0" c="1"/>
			<f a="2" b="1" c="3"/>
			<f a="3" b="7" c="6"/>
			<f a="3" b="6" c="2"/>
			<f a="7" b="5" c="4"/>
			<f a="7" b="4" c="6"/>
			<f a="0" b="4" c="5"/>
			<f a="0" b="5" c="1"/>
			<f a="0" b="2" c="6"/>
			<f a="0" b="6" c="4"/>
			<f a="5" b="7" c="3"/>
			<f a="5" b="3" c="1"/>
		</object>
		<object>
			<parameters name="Cube.001">
				<has_orco bval="1"/>
				<light_name sval=""/>
				<num_faces ival="6"/>
				<num_vertices ival="8"/>
				<object_index ival="1"/> <!-- Object Index for the object-index render pass -->
				<type sval="mesh"/>
			</parameters>
			<p x="-0.635578" y="-3.81854" z="1.00136e-05" ox="-1" oy="-1" oz="-1"/>
			<p x="-0.635578" y="-3.81854" z="2.00001" ox="-1" oy="-1" oz="1"/>
			<p x="-0.635578" y="-1.81854" z="1.00136e-05" ox="-1" oy="1" oz="-1"/>
			<p x="-0.635578" y="-1.81854" z="2.00001" ox="-1" oy="1" oz="1"/>
			<p x="1.36442" y="-3.81854" z="1.00136e-05" ox="1" oy="-1" oz="-1"/>
			<p x="1.36442" y="-3.81854" z="2.00001" ox="1" oy="-1" oz="1"/>
			<p x="1.36442" y="-1.81854" z="1.00136e-05" ox="1" oy="1" oz="-1"/>
			<p x="1.36442" y="-1.81854" z="2.00001" ox="1" oy="1" oz="1"/>
			<material_ref sval="Material.004"/>
			<f a="2" b="0" c="1"/>
			<f a="2" b="1" c="3"/>
			<f a="3" b="7" c="6"/>
			<f a="3" b="6" c="2"/>
			<f a="7" b="5" c="4"/>
			<f a="7" b="4" c="6"/>
			<f a="0" b="4" c="5"/>
			<f a="0" b="5" c="1"/>
			<f a="0" b="2" c="6"/>
			<f a="0" b="6" c="4"/>
			<f a="5" b="7" c="3"/>
			<f a="5" b="3" c="1"/>
		</object>
		<object>
			<parameters name="Cube">
				<has_orco bval="1"/>
				<light_name sval=""/>
				<num_faces ival="6"/>
				<num_vertices ival="8"/>
				<type sval="mesh"/>
			</parameters>
			<p x="-5.01096" y="-1.94285" z="1.00136e-05" ox="-1" oy="-1" oz="-1"/>
			<p x="-5.01096" y="-1.94285" z="2.00001" ox="-1" oy="-1" oz="1"/>
			<p x="-5.01096" y="0.0571451" z="1.00136e-05" ox="-1" oy="1" oz="-1"/>
			<p x="-5.01096" y="0.0571451" z="2.00001" ox="-1" oy="1" oz="1"/>
			<p x="-3.01096" y="-1.94285" z="1.00136e-05" ox="1" oy="-1" oz="-1"/>
			<p x="-3.01096" y="-1.94285" z="2.00001" ox="1" oy="-1" oz="1"/>
			<p x="-3.01096" y="0.0571451" z="1.00136e-05" ox="1" oy="1" oz="-1"/>
			<p x="-3.01096" y="0.0571451" z="2.00001" ox="1" oy="1" oz="1"/>
			<material_ref sval="Material.003"/>
			<f a="2" b="0" c="1"/>
			<f a="2" b="1" c="3"/>
			<f a="3" b="7" c="6"/>
			<f a="3" b="6" c="2"/>
			<f a="7" b="5" c="4"/>
			<f a="7" b="4" c="6"/>
			<f a="0" b="4" c="5"/>
			<f a="0" b="5" c="1"/>
			<f a="0" b="2" c="6"/>
			<f a="0" b="6" c="4"/>
			<f a="5" b="7" c="3"/>
			<f a="5" b="3" c="1"/>
		</object>
		<object>
			<parameters name="Plane">
				<light_name sval=""/>
				<num_faces ival="1"/>
				<num_vertices ival="4"/>
				<type sval="mesh"/>
			</parameters>
			<p x="-10" y="-10" z="0"/>
			<p x="10" y="-10" z="0"/>
			<p x="-10" y="10" z="0"/>
			<p x="10" y="10" z="0"/>
			<material_ref sval="Material.002"/>
			<f a="0" b="1" c="3"/>
			<f a="0" b="3" c="2"/>
		</object>
		<instance>
			<object_ref name="Cube.005"/>
			<object_ref name="Cube.004"/>
			<matrix time="0" m00="1" m01="2" m02="3" m03="4" m10="1.5" m11="2.5" m12="3.5" m13="4.5" m20="1.7" m21="2.7" m22="3.7" m23="4.7" m30="1.95" m31="2.95" m32="3.95" m33="4.95"/>
			<matrix time="0.5" m00="11" m01="2" m02="3" m03="4" m10="1.5" m11="2.5" m12="3.5" m13="4.5" m20="1.7" m21="2.7" m22="3.7" m23="4.7" m30="1.95" m31="2.95" m32="3.95" m33="4.95"/>
			<matrix time="1" m00="21" m01="2" m02="3" m03="4" m10="1.5" m11="2.5" m12="3.5" m13="4.5" m20="1.7" m21="2.7" m22="3.7" m23="4.7" m30="1.95" m31="2.95" m32="3.95" m33="4.95"/>
		</instance>
	</scene>
	<surface_integrator>
		<parameters name="surface integrator">
			<diffuse_photons ival="10000000"/> <!-- Number of diffuse photons -->
			<fg_min_pathlen fval="0.1"/> <!-- Minimum distance to terminate path tracing (unless gatherBounces is reached). If not specified it defaults to the value set in 'diffuse_radius' -->
			<raydepth ival="2"/> <!-- Ray depth -->
			<shadowDepth ival="2"/> <!-- Shadow depth for transparent shadows -->
			<type sval="photonmapping"/>
		</parameters>
	</surface_integrator>
	<film>
		<parameters name="film_1">
			<AA_inc_samples ival="3"/> <!-- Sample count for additional passes -->
			<AA_minsamples ival="3"/> <!-- Sample count for first pass -->
			<height ival="270"/> <!-- Height of rendered image -->
			<width ival="480"/> <!-- Width of rendered image -->
		</parameters>
		<camera>
			<focal fval="1.09375"/>
			<from x="8.64791" y="-7.22615" z="8.1295"/>
			<resx ival="480"/> <!-- Camera resolution X -->
			<resy ival="270"/> <!-- Camera resolution Y -->
			<to x="8.03447" y="-6.65603" z="7.58301"/>
			<type sval="perspective"/>
			<up x="8.25644" y="-6.8447" z="8.9669"/>
		</camera>
		<layer>
			<exported_image_name sval="Combined"/>
			<exported_image_type sval="ColorAlpha"/>
			<image_type sval="ColorAlpha"/>
			<type sval="combined"/>
		</layer>
		<output name="output_tga">
			<badge_position sval="top"/>
			<image_path sval="./test02-output1.tga"/>
		</output>
	</film>
	<film>
		<parameters name="film_2">
			<AA_inc_samples ival="3"/> <!-- Sample count for additional passes -->
			<AA_minsamples ival="3"/> <!-- Sample count for first pass -->
			<height ival="135"/> <!-- Height of rendered image -->
			<width ival="240"/> <!-- Width of rendered image -->
		</parameters>
		<camera>
			<focal fval="1.09375"/>
			<from x="7.64791" y="-7.22615" z="8.1295"/>
			<resx ival="240"/> <!-- Camera resolution X -->
			<resy ival="135"/> <!-- Camera resolution Y -->
			<to x="7.03447" y="-6.65603" z="7.58301"/>
			<type sval="perspective"/>
			<up x="8.25644" y="-6.8447" z="8.9669"/>
		</camera>
		<layer>
			<exported_image_name sval="Combined"/>
			<exported_image_type sval="ColorAlpha"/>
			<image_type sval="ColorAlpha"/>
			<type sval="combined"/>
		</layer>
		<output name="output_tga">
			<badge_position sval="top"/>
			<image_path sval="./test02-output2.tga"/>
		</output>
	</film>
</yafaray_container>